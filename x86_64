ARG SUITE="buster"
ARG REPOSITORY="https://github.com/hyperion-project"
FROM balenalib/amd64-debian:${SUITE}-build
ARG SUITE

LABEL maintainer="Hyperion Project <admin@hyperion-project.org>" \
	org.opencontainers.image.title="x86_64" \
	org.opencontainers.image.description="Compile Hyperion for Debian ${SUITE} (x86_64)" \
	org.opencontainers.image.url="${REPOSITORY}" \
	org.opencontainers.image.source="${REPOSITORY}/hyperion.docker-ci" \
	org.opencontainers.image.vendor="Hyperion Project"

# install general deps
RUN install_packages \
	git \
	cmake \
	python3-dev \
	rpm \
	qtbase5-dev \
	libqt5serialport5-dev \
	libqt5sql5-sqlite \
	libqt5svg5-dev \
	libqt5x11extras5-dev \
	build-essential \
	libusb-1.0-0-dev \
	libcec-dev \
	libavahi-core-dev \
	libavahi-compat-libdnssd-dev \
	libxcb-util0-dev \
	libxcb-randr0-dev \
	libxcb-shm0-dev \
	libxcb-render0-dev \
	libxcb-image0-dev \
	libxrandr-dev \
	libxrender-dev \
	libasound2-dev \
	libjpeg-dev \
	libturbojpeg0-dev \
	libssl-dev \
	libftdi1-dev

